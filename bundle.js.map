{"version":3,"sources":["webpack:///webpack/bootstrap bfc6d973e28c09a32376","webpack:///./board.js","webpack:///./gameView.js","webpack:///./entry.js"],"names":["Board","board","playerTurn","marks","fetchingMove","resetBoard","view","i","update","boardFull","checkForWinner","player","checkRows","checkColumns","checkDiagonals","data","jsonData","JSON","stringify","$","ajax","url","type","success","console","log","startIdx","squareNum","that","parse","tryMove","GameView","boardElement","document","getElementById","squares","setupBoard","start","row","createElement","className","j","square","textContent","getSquare","id","addEventListener","handleClick","bind","append","e","preventDefault","getPlayerTurn","parseInt","target","interval","setInterval","getWinner","getComputerMove","message","resultMessage","body","sendResults","clearInterval"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/TicTacToeChallenge/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bfc6d973e28c09a32376","class Board {\n  constructor () {\n    this.board = {};\n    this.playerTurn = \"human\";\n    this.marks = { \"human\": \"X\", \"computer\": \"O\" };\n    this.fetchingMove = false;\n    this.resetBoard();\n  };\n\n  setView (view) {\n    this.view = view;\n  };\n\n  getSquare (i) {\n    return this.board[i];\n  };\n\n  getPlayerTurn () {\n    return this.playerTurn;\n  };\n\n  resetBoard () {\n    for (let i=0; i<9; i++) {\n      this.board[i] = \" \";\n    }\n\n    if (this.view) {\n      this.view.update();\n    }\n  };\n\n  getWinner () {\n    let boardFull = true;\n    for (let i=0; i<9; i++) {\n      if (this.board[i] === \" \") {\n        boardFull = false;\n      }\n    }\n\n    if (boardFull) {\n      return \"draw\";\n    } else if (this.checkForWinner(\"human\")) {\n      return \"human\";\n    } else if (this.checkForWinner(\"computer\")) {\n      return \"computer\";\n    } else {\n      return false;\n    }\n  };\n\n  checkForWinner (player) {\n    return (this.checkRows(player) || this.checkColumns(player)) || this.checkDiagonals(player);\n  };\n\n  sendResults () {\n    let data = {\"final_board\":{}};\n\n    for (let i=0; i<9; i++) {\n      data[\"final_board\"] = { i: this.board[i] };\n    }\n\n    let jsonData = JSON.stringify(data);\n    $.ajax({\n      url: \"https://gnswrchqte.execute-api.us-west-2.amazonaws.com/prod/putboard\",\n      type: \"PUT\",\n      data: jsonData,\n      success: (data) => {\n        console.log(data);\n      }\n    })\n  };\n\n  checkRows (player) {\n    for (let i=0; i<3; i++) {\n      let startIdx = 3*i;\n      if (this.board[startIdx] === this.marks[player] && (this.board[startIdx] === this.board[startIdx+1] && this.board[startIdx+1] === this.board[startIdx+2])) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  checkColumns (player) {\n    for (let i=0; i<3; i++) {\n      if (this.board[i] === this.marks[player] && (this.board[i] === this.board[i+3] && this.board[i+3] === this.board[i+6])) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  checkDiagonals (player) {\n    if (this.board[0] === this.marks[player] && (this.board[0] === this.board[4] && this.board[4] === this.board[8])) {\n      return true;\n    }\n\n    if (this.board[2] === this.marks[player] && (this.board[2] === this.board[4] && this.board[4] === this.board[6])) {\n      return true;\n    }\n\n    return false;\n  };\n\n  tryMove (squareNum, player) {\n    if (this.board[squareNum] === \" \" && this.playerTurn === player) {\n      this.board[squareNum] = this.marks[player];\n      this.playerTurn = this.playerTurn === \"human\" ? \"computer\" : \"human\";\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  getComputerMove () {\n    let that = this;\n    this.fetchingMove = true;\n\n    $.ajax({\n      url: \"https://zpj6onnvm5.execute-api.us-west-2.amazonaws.com/prod/getmove\",\n      type: \"GET\",\n      success: (data) => {\n        that.fetchingMove = false;\n        let jsonData = JSON.parse(data);\n        that.tryMove(jsonData[\"move_position\"], \"computer\");\n      }\n    });\n  };\n};\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./board.js","class GameView {\n  constructor (board) {\n    this.board = board;\n    this.boardElement = document.getElementById(\"board\");\n    this.squares = [];\n    this.setupBoard();\n    this.start();\n  };\n\n  setupBoard () {\n    for (let i=0; i<3; i++) {\n      let row = document.createElement(\"ul\");\n      row.className = \"row\";\n\n      for (let j=0; j<3; j++) {\n        let square = document.createElement(\"li\");\n        square.textContent = this.board.getSquare(i);\n        square.className = \"square\";\n        square.id = 3*i+j;\n\n        square.addEventListener(\"click\", this.handleClick.bind(this));\n\n        row.append(square);\n        this.squares[3*i+j] = square;\n      }\n\n      this.boardElement.append(row);\n    }\n  };\n\n  handleClick (e) {\n    e.preventDefault();\n\n    if (this.board.getPlayerTurn() === \"human\") {\n      let squareNum = parseInt(e.target.id);\n      this.board.tryMove(squareNum, \"human\");\n    }\n  };\n\n  start () {\n    let that = this;\n\n    let interval = setInterval(() => {\n      if (!that.board.getWinner()) {\n        if (that.board.playerTurn === \"computer\" && !that.board.fetchingMove) {\n          that.board.getComputerMove();\n        }\n\n        that.update();\n      } else {\n        let message = \"\";\n        switch (that.board.getWinner()){\n          case \"draw\":\n            message = \"Draw!\";\n            break;\n          case \"human\":\n            message = \"You've won!\";\n            break;\n          case \"computer\":\n            message = \"Game over :(\";\n            break;\n        }\n        \n        that.update();\n\n        let resultMessage = document.createElement(\"div\");\n        resultMessage.textContent = message;\n        resultMessage.className = 'result-message';\n        document.body.append(resultMessage);\n\n        that.board.sendResults();\n        clearInterval(interval);\n      }\n    }, 50);\n  };\n\n  update () {\n    for (let i=0; i<9; i++) {\n      this.squares[i].textContent = this.board.getSquare(i);\n    }\n  };\n};\n\nexport default GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./gameView.js","import Board from './board.js';\nimport GameView from './gameView.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let board = new Board();\n  let view = new GameView(board);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./entry.js"],"sourceRoot":""}